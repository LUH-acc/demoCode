import{d as e,r as l,a,c as t,b as n,m as u,v as o,f as d,q as i}from"./index-DdQUr8T3.js";const v=n("span",null,"witdh:",-1),s=n("span",null,"height:",-1),r=e({__name:"index",setup(e){const r=l(),h=l(),m=l(null),p=l(""),g=l(1),c=l(0),f=l(0),w=e=>{const l=e.target.files[0],a=new FileReader;a.readAsDataURL(l);const t=new Image;a.onload=e=>{t.src=e.target.result,p.value=e.target.result,t.onload=()=>{r.value=t.width,h.value=t.height,c.value=t.width,f.value=t.height,g.value=t.width/t.height}}},x=()=>{h.value=Math.floor(Number(r.value)/g.value)},b=()=>{r.value=Math.floor(Number(h.value)*g.value)},y=()=>{const e=document.createElement("canvas"),l=e.getContext("2d");e.width=r.value,e.height=h.value;const a=new Image;a.src=p.value,a.onload=()=>{l.drawImage(a,0,0,c.value,f.value,0,0,r.value,h.value),document.body.appendChild(e)}};return(e,l)=>(a(),t("div",null,[n("div",null,[n("input",{type:"file",name:"file",onChange:w},null,32)]),n("div",null,[n("div",null,[v,u(n("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>i(r)?r.value=e:null),onInput:x},null,544),[[o,d(r)]])]),n("div",null,[s,u(n("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>i(h)?h.value=e:null),onInput:b},null,544),[[o,d(h)]])]),n("div",null,[n("button",{onClick:y},"确定")]),n("div",null,[n("img",{ref_key:"imgDom",ref:m,alt:""},null,512)])])]))}});export{r as default};
